import{s as _e,v as te,p as ae,c as P,g as v,C as re,l as se,d as j,h as g,i as y,D as oe,A as N,m as ne,k as p,E as q}from"../chunks/scheduler.1VmQr9R1.js";import{S as be,i as ke,d as S,v as we,j as ye,k as xe,m as Ce,b as De,t as Re,l as Ee,e as h,g as s,a as U,n as f,p as Ue}from"../chunks/index.PIup2QdQ.js";import{A as pe}from"../chunks/AuthCheck.7wpwqlKE.js";import{a as J,d as ie,e as le,u as T,f as ce,g as ue,h as de,r as fe,i as he}from"../chunks/firebase.d7i5Tn_k.js";const m="C:/Users/amine/Desktop/Learning/svelte/linke-tree/src/routes/login/photo/+page.svelte";function me(u){let e,l="Upload a Profile Picture:",c,r,t,o,n,b;const _={c:function(){e=v("h2"),e.textContent=l,c=P(),r=v("div"),t=v("div"),o=v("div"),n=v("img"),this.h()},l:function(i){e=g(i,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-pdpwuw"&&(e.textContent=l),c=j(i),r=g(i,"DIV",{});var a=y(r);t=g(a,"DIV",{class:!0});var x=y(t);o=g(x,"DIV",{class:!0});var k=y(o);n=g(k,"IMG",{src:!0,alt:!0}),k.forEach(h),x.forEach(h),a.forEach(h),this.h()},h:function(){s(e,"class","text-xl font-semibold text-white mb-4"),p(e,m,39,4,1118),q(n.src,b=u[1]??"/profile.webp")||s(n,"src",b),s(n,"alt","User profile"),p(n,m,45,10,1329),s(o,"class","w-24 rounded-full border border-indigo-500"),p(o,m,44,8,1261),s(t,"class","avatar"),p(t,m,43,6,1231),p(r,m,42,4,1218)},m:function(i,a){U(i,e,a),U(i,c,a),U(i,r,a),f(r,t),f(t,o),f(o,n)},p:function(i,a){a&2&&!q(n.src,b=i[1]??"/profile.webp")&&s(n,"src",b)},d:function(i){i&&(h(e),h(c),h(r))}};return S("SvelteRegisterBlock",{block:_,id:me.name,type:"else",source:"(33:2) {:else}",ctx:u}),_}function ve(u){let e,l="Change Your Profile Picture:",c,r,t,o,n,b;const _={c:function(){e=v("h2"),e.textContent=l,c=P(),r=v("div"),t=v("div"),o=v("div"),n=v("img"),this.h()},l:function(i){e=g(i,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-qwsfbr"&&(e.textContent=l),c=j(i),r=g(i,"DIV",{});var a=y(r);t=g(a,"DIV",{class:!0});var x=y(t);o=g(x,"DIV",{class:!0});var k=y(o);n=g(k,"IMG",{src:!0,alt:!0}),k.forEach(h),x.forEach(h),a.forEach(h),this.h()},h:function(){s(e,"class","text-xl font-semibold text-white mb-4"),p(e,m,28,4,780),q(n.src,b=u[1]??u[0].photoURL)||s(n,"src",b),s(n,"alt","User profile"),p(n,m,34,10,994),s(o,"class","w-24 rounded-full border border-indigo-500"),p(o,m,33,8,926),s(t,"class","avatar"),p(t,m,32,6,896),p(r,m,31,4,883)},m:function(i,a){U(i,e,a),U(i,c,a),U(i,r,a),f(r,t),f(t,o),f(o,n)},p:function(i,a){a&3&&!q(n.src,b=i[1]??i[0].photoURL)&&s(n,"src",b)},d:function(i){i&&(h(e),h(c),h(r))}};return S("SvelteRegisterBlock",{block:_,id:ve.name,type:"if",source:"(22:2) {#if $userData?.photoURL}",ctx:u}),_}function ge(u){let e,l,c,r,t,o,n,b,_,d,i="Click to upload",a,x,k,B="SVG, PNG, JPG or GIF (MAX. 800x400px)",A,R,F,L,E,O,H,Y;function K(I,w){return I[0]?.photoURL?ve:me}let G=K(u),C=G(u);const Q={c:function(){C.c(),e=P(),l=v("div"),c=v("div"),r=v("label"),t=v("div"),o=re("svg"),n=re("path"),b=P(),_=v("p"),d=v("span"),d.textContent=i,a=se(" or drag and drop"),x=P(),k=v("p"),k.textContent=B,A=P(),R=v("input"),F=P(),L=v("div"),E=v("a"),O=se("Finish"),this.h()},l:function(w){C.l(w),e=j(w),l=g(w,"DIV",{class:!0});var D=y(l);c=g(D,"DIV",{class:!0});var W=y(c);r=g(W,"LABEL",{for:!0,class:!0});var M=y(r);t=g(M,"DIV",{class:!0});var V=y(t);o=oe(V,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var Z=y(o);n=oe(Z,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(n).forEach(h),Z.forEach(h),b=j(V),_=g(V,"P",{class:!0});var z=y(_);d=g(z,"SPAN",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-1td7sga"&&(d.textContent=i),a=ne(z," or drag and drop"),z.forEach(h),x=j(V),k=g(V,"P",{class:!0,"data-svelte-h":!0}),N(k)!=="svelte-1iokzat"&&(k.textContent=B),V.forEach(h),A=j(M),R=g(M,"INPUT",{id:!0,type:!0,class:!0,accept:!0}),M.forEach(h),W.forEach(h),F=j(D),L=g(D,"DIV",{class:!0});var $=y(L);E=g($,"A",{href:!0,class:!0});var ee=y(E);O=ne(ee,"Finish"),ee.forEach(h),$.forEach(h),D.forEach(h),this.h()},h:function(){s(n,"stroke","currentColor"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"),p(n,m,66,12,2203),s(o,"class","w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"),s(o,"aria-hidden","true"),s(o,"xmlns","http://www.w3.org/2000/svg"),s(o,"fill","none"),s(o,"viewBox","0 0 20 16"),p(o,m,59,10,1967),s(d,"class","font-semibold"),p(d,m,75,12,2636),s(_,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),p(_,m,74,10,2565),s(k,"class","text-xs text-gray-500 dark:text-gray-400"),p(k,m,77,10,2731),s(t,"class","flex flex-col items-center justify-center pt-5 pb-6"),p(t,m,58,8,1890),s(R,"id","photoURL"),s(R,"type","file"),s(R,"class","hidden"),s(R,"accept","image/png, image/jpeg, image/gif, image/webp"),p(R,m,81,8,2876),s(r,"for","photoURL"),s(r,"class","flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),p(r,m,54,6,1565),s(c,"class","flex items-center justify-center w-full"),p(c,m,53,4,1504),s(E,"href",u[2]),s(E,"class","btn btn-primary text-white px-10 font-semibold sm:text-lg"),p(E,m,93,6,3146),s(L,"class","mt-4"),p(L,m,92,4,3120),s(l,"class","w-full"),p(l,m,52,2,1478)},m:function(w,D){C.m(w,D),U(w,e,D),U(w,l,D),f(l,c),f(c,r),f(r,t),f(t,o),f(o,n),f(t,b),f(t,_),f(_,d),f(_,a),f(t,x),f(t,k),f(r,A),f(r,R),f(l,F),f(l,L),f(L,E),f(E,O),H||(Y=Ue(R,"change",u[3],!1,!1,!1,!1),H=!0)},p:function(w,D){G===(G=K(w))&&C?C.p(w,D):(C.d(1),C=G(w),C&&(C.c(),C.m(e.parentNode,e))),D&4&&s(E,"href",w[2])},d:function(w){w&&(h(e),h(l)),C.d(w),H=!1,Y()}};return S("SvelteRegisterBlock",{block:Q,id:ge.name,type:"slot",source:"(21:0) <AuthCheck>",ctx:u}),Q}function X(u){let e,l;e=new pe({props:{$$slots:{default:[ge]},$$scope:{ctx:u}},$$inline:!0});const c={c:function(){ye(e.$$.fragment)},l:function(t){xe(e.$$.fragment,t)},m:function(t,o){Ce(e,t,o),l=!0},p:function(t,[o]){const n={};o&71&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i:function(t){l||(De(e.$$.fragment,t),l=!0)},o:function(t){Re(e.$$.fragment,t),l=!1},d:function(t){Ee(e,t)}};return S("SvelteRegisterBlock",{block:c,id:X.name,type:"component",source:"",ctx:u}),c}function Le(u,e,l){let c,r,t;te(T,"user"),ae(u,T,a=>l(5,r=a)),te(J,"userData"),ae(u,J,a=>l(0,t=a));let{$$slots:o={},$$scope:n}=e;we("Page",o,[]);let b,_=!1;async function d(a){_=!0;const x=a.target.files[0];l(1,b=URL.createObjectURL(x));const k=fe(ie,`users/${r.uid}/profile.png`),B=await he(k,x),A=await de(B.ref);await ue(ce(le,"users",r.uid),{photoURL:A}),_=!1}const i=[];return Object.keys(e).forEach(a=>{!~i.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Page> was created with unknown prop '${a}'`)}),u.$capture_state=()=>({AuthCheck:pe,userData:J,storage:ie,db:le,user:T,doc:ce,updateDoc:ue,getDownloadURL:de,ref:fe,uploadBytes:he,previewURL:b,uploading:_,upload:d,href:c,$user:r,$userData:t}),u.$inject_state=a=>{"previewURL"in a&&l(1,b=a.previewURL),"uploading"in a&&(_=a.uploading),"href"in a&&l(2,c=a.href)},e&&"$$inject"in e&&u.$inject_state(e.$$inject),u.$$.update=()=>{u.$$.dirty&1&&l(2,c=`/${t?.username}`)},[t,b,c,d]}class Ae extends be{constructor(e){super(e),ke(this,e,Le,X,_e,{}),S("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:X.name})}}export{Ae as component};
