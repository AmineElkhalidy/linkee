import{s as q,v as J,p as z,e as E,x as T,g,c as H,h as v,H as N,d as I,k as b,l as $,i as B,m as R}from"../chunks/scheduler.9Ql2hydF.js";import{S as F,i as K,d as k,v as M,a as _,e as m,g as y,u as j,n as w,s as Q}from"../chunks/index.4xqnpTo_.js";import{b as C,G,c as U,s as W,u as S}from"../chunks/firebase.-yoiMsiN.js";import{g as D}from"../chunks/navigation.6o0cEVid.js";const x="C:/Users/amine/Desktop/Learning/svelte/linke-tree/src/routes/login/+page.svelte";function A(i){let e,c="Sign in to your account",n,t,r="Sign in with Google",o,s;const l={c:function(){e=g("h2"),e.textContent=c,n=H(),t=g("button"),t.textContent=r,this.h()},l:function(a){e=v(a,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1rs5yyk"&&(e.textContent=c),n=I(a),t=v(a,"BUTTON",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1t0pkyw"&&(t.textContent=r),this.h()},h:function(){y(e,"class","text-xl text-white font-semibold mb-2"),b(e,x,41,2,1098),y(t,"class","btn btn-primary text-white sm:text-lg"),b(t,x,42,2,1180)},m:function(a,p){_(a,e,p),_(a,n,p),_(a,t,p),o||(s=j(t,"click",i[1],!1,!1,!1,!1),o=!0)},p:T,d:function(a){a&&(m(e),m(n),m(t)),o=!1,s()}};return k("SvelteRegisterBlock",{block:l,id:A.name,type:"else",source:"(35:0) {:else}",ctx:i}),l}function L(i){let e,c,n,t=i[0].displayName+"",r,o,s,l="Change Username",f,a;const p={c:function(){e=g("h2"),c=$("Welcome "),n=g("span"),r=$(t),o=H(),s=g("button"),s.textContent=l,this.h()},l:function(u){e=v(u,"H2",{class:!0});var d=B(e);c=R(d,"Welcome "),n=v(d,"SPAN",{class:!0});var P=B(n);r=R(P,t),P.forEach(m),d.forEach(m),o=I(u),s=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-1gc37a9"&&(s.textContent=l),this.h()},h:function(){y(n,"class","gradient-text"),b(n,x,33,12,877),y(e,"class","text-xl md:text-2xl font-semibold text-white uppercase mb-2"),b(e,x,32,2,791),y(s,"class","btn btn-primary text-white sm:text-lg px-10"),b(s,x,36,2,946)},m:function(u,d){_(u,e,d),w(e,c),w(e,n),w(n,r),_(u,o,d),_(u,s,d),f||(a=j(s,"click",i[2],!1,!1,!1,!1),f=!0)},p:function(u,d){d&1&&t!==(t=u[0].displayName+"")&&Q(r,t)},d:function(u){u&&(m(e),m(o),m(s)),f=!1,a()}};return k("SvelteRegisterBlock",{block:p,id:L.name,type:"if",source:"(26:0) {#if $user}",ctx:i}),p}function O(i){let e;function c(o,s){return o[0]?L:A}let n=c(i),t=n(i);const r={c:function(){t.c(),e=E()},l:function(s){t.l(s),e=E()},m:function(s,l){t.m(s,l),_(s,e,l)},p:function(s,[l]){n===(n=c(s))&&t?t.p(s,l):(t.d(1),t=n(s),t&&(t.c(),t.m(e.parentNode,e)))},i:T,o:T,d:function(s){s&&m(e),t.d(s)}};return k("SvelteRegisterBlock",{block:r,id:O.name,type:"component",source:"",ctx:i}),r}function V(i,e,c){let n;J(S,"user"),z(i,S,a=>c(0,n=a));let{$$slots:t={},$$scope:r}=e;M("Page",t,[]);const o=async()=>{const a=new G,h=await(await U(C,a)).user.getIdToken();await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:h})})},s=async()=>{await fetch("/api/signin",{method:"DELETE"}),await W(C)},l=[];Object.keys(e).forEach(a=>{!~l.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Page> was created with unknown prop '${a}'`)});const f=()=>D("/login/username");return i.$capture_state=()=>({auth:C,GoogleAuthProvider:G,signInWithPopup:U,signOut:W,user:S,goto:D,signInWithGoogle:o,signOutSSR:s,$user:n}),[n,o,f]}class te extends F{constructor(e){super(e),K(this,e,V,O,q,{}),k("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:O.name})}}export{te as component};
