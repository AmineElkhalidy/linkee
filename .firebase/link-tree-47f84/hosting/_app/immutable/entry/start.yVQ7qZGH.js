import{o as $e,t as ke}from"../chunks/scheduler.9Ql2hydF.js";import{S as ft,a as ut,b as dt,H as V,N as B,r as ne,o as xe,c as H,P as Pe,f as nt,g as Oe,d as pe,i as Ae,s as Fe,e as G,h as rt,j as Et}from"../chunks/singletons.-0ypGXDU.js";import{U as pt,N as St,P as $t,a as kt,b as ht,H as xt,p as Pt,u as Ot}from"../chunks/parse.RrI1B0B4.js";import{H as _e,S as qe,R as at}from"../chunks/control.pJ1mnnAb.js";new URL("sveltekit-internal://");function At(e,a){return e==="/"||a==="ignore"?e:a==="never"?e.endsWith("/")?e.slice(0,-1):e:a==="always"&&!e.endsWith("/")?e+"/":e}function Rt(e){return e.split("%25").map(decodeURI).join("%25")}function jt(e){for(const a in e)e[a]=decodeURIComponent(e[a]);return e}function Re({href:e}){return e.split("#")[0]}const It=["href","pathname","search","toString","toJSON"];function Lt(e,a,o){const i=new URL(e);Object.defineProperty(i,"searchParams",{value:new Proxy(i.searchParams,{get(l,d){if(d==="get"||d==="getAll"||d==="has")return h=>(o(h),l[d](h));a();const y=Reflect.get(l,d);return typeof y=="function"?y.bind(l):y}}),enumerable:!0,configurable:!0});for(const l of It)Object.defineProperty(i,l,{get(){return a(),e[l]},enumerable:!0,configurable:!0});return Tt(i),i}function Tt(e){Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const Nt="/__data.json",Ct=".html__data.json";function Ut(e){return e.endsWith(".html")?e.replace(/\.html$/,Ct):e.replace(/\/$/,"")+Nt}function Dt(...e){let a=5381;for(const o of e)if(typeof o=="string"){let i=o.length;for(;i;)a=a*33^o.charCodeAt(--i)}else if(ArrayBuffer.isView(o)){const i=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);let l=i.length;for(;l;)a=a*33^i[--l]}else throw new TypeError("value must be a string or TypedArray");return(a>>>0).toString(36)}let Me=0;const _t=window.fetch;function Ft(){Me+=1}function Ht(){Me-=1}{let e=!1;(async()=>{e=new Error().stack.includes("check_stack_trace")})(),window.fetch=(o,i)=>{const l=o instanceof Request?o.url:o.toString(),d=new Error().stack.split(`
`),y=d.findIndex(v=>v.includes("load@")||v.includes("at load")),h=d.slice(0,y+2).join(`
`),b=e?h.includes("src/runtime/client/client.js"):Me,c=i?.__sveltekit_fetch__;return b&&!c&&console.warn(`Loading ${l} using \`window.fetch\`. For best results, use the \`fetch\` that is passed to your \`load\` function: https://kit.svelte.dev/docs/load#making-fetch-requests`),(o instanceof Request?o.method:i?.method||"GET")!=="GET"&&oe.delete(Ve(o)),_t(o,i)}}const oe=new Map;function qt(e){const a=atob(e),o=new Uint8Array(a.length);for(let i=0;i<a.length;i++)o[i]=a.charCodeAt(i);return o.buffer}function Mt(e,a){const o=Ve(e,a),i=document.querySelector(o);if(i?.textContent){let{body:l,...d}=JSON.parse(i.textContent);const y=i.getAttribute("data-ttl");return y&&oe.set(o,{body:l,init:d,ttl:1e3*Number(y)}),i.getAttribute("data-b64")!==null&&(l=qt(l)),Promise.resolve(new Response(l,d))}return gt(e,a)}function Vt(e,a,o){if(oe.size>0){const i=Ve(e,o),l=oe.get(i);if(l){if(performance.now()<l.ttl&&["default","force-cache","only-if-cached",void 0].includes(o?.cache))return new Response(l.body,l.init);oe.delete(i)}}return gt(a,o)}function gt(e,a){const o={...a};return Object.defineProperty(o,"__sveltekit_fetch__",{value:!0,writable:!0,configurable:!0}),window.fetch(e,o)}function Ve(e,a){let i=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(a?.headers||a?.body){const l=[];a.headers&&l.push([...new Headers(a.headers)].join(",")),a.body&&(typeof a.body=="string"||ArrayBuffer.isView(a.body))&&l.push(a.body),i+=`[data-hash="${Dt(...l)}"]`}return i}const Gt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Kt(e){const a=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${Bt(e).map(i=>{const l=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(i);if(l)return a.push({name:l[1],matcher:l[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const d=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(i);if(d)return a.push({name:d[1],matcher:d[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!i)return;const y=i.split(/\[(.+?)\](?!\])/);return"/"+y.map((b,c)=>{if(c%2){if(b.startsWith("x+"))return je(String.fromCharCode(parseInt(b.slice(2),16)));if(b.startsWith("u+"))return je(String.fromCharCode(...b.slice(2).split("-").map(k=>parseInt(k,16))));const _=Gt.exec(b);if(!_)throw new Error(`Invalid param: ${b}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,v,I,P,O]=_;return a.push({name:P,matcher:O,optional:!!v,rest:!!I,chained:I?c===1&&y[0]==="":!1}),I?"(.*?)":v?"([^/]*)?":"([^/]+?)"}return je(b)}).join("")}).join("")}/?$`),params:a}}function zt(e){return!/^\([^)]+\)$/.test(e)}function Bt(e){return e.slice(1).split("/").filter(zt)}function Jt(e,a,o){const i={},l=e.slice(1),d=l.filter(h=>h!==void 0);let y=0;for(let h=0;h<a.length;h+=1){const b=a[h];let c=l[h-y];if(b.chained&&b.rest&&y&&(c=l.slice(h-y,h+1).filter(_=>_).join("/"),y=0),c===void 0){b.rest&&(i[b.name]="");continue}if(!b.matcher||o[b.matcher](c)){i[b.name]=c;const _=a[h+1],v=l[h+1];_&&!_.rest&&_.optional&&v&&b.chained&&(y=0),!_&&!v&&Object.keys(i).length===d.length&&(y=0);continue}if(b.optional&&b.chained){y++;continue}return}if(!y)return i}function je(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Wt({nodes:e,server_loads:a,dictionary:o,matchers:i}){const l=new Set(a);return Object.entries(o).map(([h,[b,c,_]])=>{const{pattern:v,params:I}=Kt(h),P={id:h,exec:O=>{const k=v.exec(O);if(k)return Jt(k,I,i)},errors:[1,..._||[]].map(O=>e[O]),layouts:[0,...c||[]].map(y),leaf:d(b)};return P.errors.length=P.layouts.length=Math.max(P.errors.length,P.layouts.length),P});function d(h){const b=h<0;return b&&(h=~h),[b,e[h]]}function y(h){return h===void 0?h:[l.has(h),e[h]]}}function Ge(e,a=JSON.parse){try{return a(sessionStorage[e])}catch{}}function Ie(e,a,o=JSON.stringify){const i=o(a);try{sessionStorage[e]=i}catch{}}class Le extends Error{constructor(a,o){super(a),this.name="DevalueError",this.path=o.join("")}}function ot(e){return Object(e)!==e}const Yt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xt(e){const a=Object.getPrototypeOf(e);return a===Object.prototype||a===null||Object.getOwnPropertyNames(a).sort().join("\0")===Yt}function Zt(e){return Object.prototype.toString.call(e).slice(8,-1)}function Qt(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function X(e){let a="",o=0;const i=e.length;for(let l=0;l<i;l+=1){const d=e[l],y=Qt(d);y&&(a+=e.slice(o,l)+y,o=l+1)}return`"${o===0?e:a+e.slice(o)}"`}function Te(e,a){const o=[],i=new Map,l=[];for(const c in a)l.push({key:c,fn:a[c]});const d=[];let y=0;function h(c){if(typeof c=="function")throw new Le("Cannot stringify a function",d);if(i.has(c))return i.get(c);if(c===void 0)return pt;if(Number.isNaN(c))return St;if(c===1/0)return $t;if(c===-1/0)return kt;if(c===0&&1/c<0)return ht;const _=y++;i.set(c,_);for(const{key:I,fn:P}of l){const O=P(c);if(O)return o[_]=`["${I}",${h(O)}]`,_}let v="";if(ot(c))v=Ne(c);else switch(Zt(c)){case"Number":case"String":case"Boolean":v=`["Object",${Ne(c)}]`;break;case"BigInt":v=`["BigInt",${c}]`;break;case"Date":v=`["Date","${c.toISOString()}"]`;break;case"RegExp":const{source:P,flags:O}=c;v=O?`["RegExp",${X(P)},"${O}"]`:`["RegExp",${X(P)}]`;break;case"Array":v="[";for(let k=0;k<c.length;k+=1)k>0&&(v+=","),k in c?(d.push(`[${k}]`),v+=h(c[k]),d.pop()):v+=xt;v+="]";break;case"Set":v='["Set"';for(const k of c)v+=`,${h(k)}`;v+="]";break;case"Map":v='["Map"';for(const[k,D]of c)d.push(`.get(${ot(k)?Ne(k):"..."})`),v+=`,${h(k)},${h(D)}`;v+="]";break;default:if(!Xt(c))throw new Le("Cannot stringify arbitrary non-POJOs",d);if(Object.getOwnPropertySymbols(c).length>0)throw new Le("Cannot stringify POJOs with symbolic keys",d);if(Object.getPrototypeOf(c)===null){v='["null"';for(const k in c)d.push(`.${k}`),v+=`,${X(k)},${h(c[k])}`,d.pop();v+="]"}else{v="{";let k=!1;for(const D in c)k&&(v+=","),k=!0,d.push(`.${D}`),v+=`${X(D)}:${h(c[D])}`,d.pop();v+="}"}}return o[_]=v,_}const b=h(e);return b<0?`${b}`:`[${o.join(",")}]`}function Ne(e){const a=typeof e;return a==="string"?X(e):e instanceof String?X(e.toString()):e===void 0?pt.toString():e===0&&1/e<0?ht.toString():a==="bigint"?`["BigInt","${e}"]`:String(e)}function en(e){function a(o,i){if(o)for(const l in o){if(l[0]==="_"||e.has(l))continue;const d=[...e.values()],y=tn(l,i?.slice(i.lastIndexOf(".")))??`valid exports are ${d.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${l}'${i?` in ${i}`:""} (${y})`)}}return a}function tn(e,a=".js"){const o=[];if(Ke.has(e)&&o.push(`+layout${a}`),mt.has(e)&&o.push(`+page${a}`),yt.has(e)&&o.push(`+layout.server${a}`),nn.has(e)&&o.push(`+page.server${a}`),rn.has(e)&&o.push(`+server${a}`),o.length>0)return`'${e}' is a valid export in ${o.slice(0,-1).join(", ")}${o.length>1?" or ":""}${o.at(-1)}`}const Ke=new Set(["load","prerender","csr","ssr","trailingSlash","config"]),mt=new Set([...Ke,"entries"]),yt=new Set([...Ke]),nn=new Set([...yt,"actions","entries"]),rn=new Set(["GET","POST","PATCH","PUT","DELETE","OPTIONS","HEAD","fallback","prerender","trailingSlash","config","entries"]),an=en(mt);function on(e){return e.filter(a=>a!=null)}function sn(e,a){const o=/^(moz-icon|view-source|jar):/.exec(a);o&&console.warn(`${e}: Calling \`depends('${a}')\` will throw an error in Firefox because \`${o[1]}\` is a special URI scheme`)}const Ce="x-sveltekit-invalidated",cn="x-sveltekit-trailing-slash";function he(e){return e instanceof _e||e instanceof qe?e.status:500}function ln(e){return e instanceof qe?e.text:"Internal Error"}const J=Ge(ft)??{},re=Ge(ut,Pt)??{},se=Ge(dt)??{},He=history.pushState,ae=history.replaceState;{let e=!1;const a=()=>{e||(e=!0,console.warn("Avoid using `history.pushState(...)` and `history.replaceState(...)` as these will conflict with SvelteKit's router. Use the `pushState` and `replaceState` imports from `$app/navigation` instead."))};history.pushState=(...o)=>(a(),He.apply(history,o)),history.replaceState=(...o)=>(a(),ae.apply(history,o))}function Ue(e){J[e]=Fe()}function st(e,a){let o=e+1;for(;J[o];)delete J[o],o+=1;for(o=a+1;se[o];)delete se[o],o+=1}function Y(e){return location.href=e.href,new Promise(()=>{})}function it(){}function fn(e,a){const o=Wt(e),i=e.nodes[0],l=e.nodes[1];i(),l();const d=document.documentElement,y=[],h=[];let b=null;const c={before_navigate:[],on_navigate:[],after_navigate:[]};let _={branch:[],error:null,url:null},v=!1,I=!1,P=!0,O=!1,k=!1,D=!1,Z=!1,ie=!1,q,L=history.state?.[V],F=history.state?.[B];L||(L=F=Date.now(),ae.call(history,{...history.state,[V]:L,[B]:F},"",location.href));const ge=J[L];ge&&(history.scrollRestoration="manual",scrollTo(ge.x,ge.y));let R,W,me;async function ze(){if(await(me||=Promise.resolve()),!me)return;me=null;const n=ee(_.url,!0);b=null;const t=W={},r=n&&await ve(n);t===W&&(r&&(r.type==="redirect"?await ce(new URL(r.location,_.url).href,{},1,t):(r.props.page!==void 0&&(R=r.props.page),q.$set(r.props))),y.length=0)}function Be(n){h.some(t=>t?.snapshot)&&(se[n]=h.map(t=>t?.snapshot?.capture()))}function Je(n){se[n]?.forEach((t,r)=>{h[r]?.snapshot?.restore(t)})}function We(){Ue(L),Ie(ft,J),Be(F),Ie(dt,se),Ie(ut,re,Te)}async function ce(n,t,r,s){return ue({type:"goto",url:ne(n),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,redirect_count:r,state:t.state,nav_token:s,accept:()=>{t.invalidateAll&&(ie=!0)}})}async function Ye(n){return b={id:n.id,promise:ve(n).then(t=>(t.type==="loaded"&&t.state.error&&(b=null),t))},b.promise}async function le(n){const t=o.find(r=>r.exec(be(n)));t&&await Promise.all([...t.layouts,t.leaf].map(r=>r?.[1]()))}function Xe(n){if(n.state.error&&document.querySelector("vite-error-overlay"))return;_=n.state;const t=document.querySelector("style[data-sveltekit]");t&&t.remove(),R=n.props.page,q=new e.root({target:a,props:{...n.props,stores:G,components:h},hydrate:!0}),Je(F);const r={from:null,to:{params:_.params,route:{id:_.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};c.after_navigate.forEach(s=>s(r)),I=!0}async function Q({url:n,params:t,branch:r,status:s,error:f,route:u,form:p}){let m="never";for(const S of r)S?.slash!==void 0&&(m=S.slash);n.pathname=At(n.pathname,m),n.search=n.search;const E={type:"loaded",state:{url:n,params:t,branch:r,error:f,route:u},props:{constructors:on(r).map(S=>S.node.component),page:R}};p!==void 0&&(E.props.form=p);let w={},T=!R,N=0;for(let S=0;S<Math.max(r.length,_.branch.length);S+=1){const j=r[S],x=_.branch[S];j?.data!==x?.data&&(T=!0),j&&(w={...w,...j.data},T&&(E.props[`data_${N}`]=w),N+=1)}return(!_.url||n.href!==_.url.href||_.error!==f||p!==void 0&&p!==R.form||T)&&(E.props.page={error:f,params:t,route:{id:u?.id??null},state:{},status:s,url:new URL(n),form:p??null,data:T?w:R.data}),E}async function ye({loader:n,parent:t,url:r,params:s,route:f,server_data_node:u}){let p=null,m=!0;const E={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},w=await n();if(an(w.universal),w.universal?.load){let T=function(...g){for(const S of g){sn(f.id,S);const{href:j}=new URL(S,r);E.dependencies.add(j)}};const N={route:new Proxy(f,{get:(g,S)=>(m&&(E.route=!0),g[S])}),params:new Proxy(s,{get:(g,S)=>(m&&E.params.add(S),g[S])}),data:u?.data??null,url:Lt(r,()=>{m&&(E.url=!0)},g=>{m&&E.search_params.add(g)}),async fetch(g,S){let j;g instanceof Request?(j=g.url,S={body:g.method==="GET"||g.method==="HEAD"?void 0:await g.blob(),cache:g.cache,credentials:g.credentials,headers:g.headers,integrity:g.integrity,keepalive:g.keepalive,method:g.method,mode:g.mode,redirect:g.redirect,referrer:g.referrer,referrerPolicy:g.referrerPolicy,signal:g.signal,...S}):j=g;const x=new URL(j,r);return m&&T(x.href),x.origin===r.origin&&(j=x.href.slice(r.origin.length)),I?Vt(j,x.href,S):Mt(j,S)},setHeaders:()=>{},depends:T,parent(){return m&&(E.parent=!0),t()},untrack(g){m=!1;try{return g()}finally{m=!0}}};try{if(Ft(),p=await w.universal.load.call(null,N)??null,p!=null&&Object.getPrototypeOf(p)!==Object.prototype)throw new Error(`a load function related to route '${f.id}' returned ${typeof p!="object"?`a ${typeof p}`:p instanceof Response?"a Response object":Array.isArray(p)?"an array":"a non-plain object"}, but must return a plain object at the top level (i.e. \`return {...}\`)`)}finally{Ht()}}return{node:w,loader:n,server:u,universal:w.universal?.load?{type:"data",data:p,uses:E}:null,data:p??u?.data??null,slash:H&&(r.pathname===H||r.pathname===H+"/")?"always":w.universal?.trailingSlash??u?.slash}}function Ze(n,t,r,s,f,u){if(ie)return!0;if(!f)return!1;if(f.parent&&n||f.route&&t||f.url&&r)return!0;for(const p of f.search_params)if(s.has(p))return!0;for(const p of f.params)if(u[p]!==_.params[p])return!0;for(const p of f.dependencies)if(y.some(m=>m(new URL(p))))return!0;return!1}function we(n,t){return n?.type==="data"?n:n?.type==="skip"?t??null:null}function vt(n,t){if(!n)return new Set(t.searchParams.keys());const r=new Set([...n.searchParams.keys(),...t.searchParams.keys()]);for(const s of r){const f=n.searchParams.getAll(s),u=t.searchParams.getAll(s);f.every(p=>u.includes(p))&&u.every(p=>f.includes(p))&&r.delete(s)}return r}async function ve({id:n,invalidating:t,url:r,params:s,route:f}){if(b?.id===n)return b.promise;const{errors:u,layouts:p,leaf:m}=f,E=[...p,m];u.forEach($=>$?.().catch(()=>{})),E.forEach($=>$?.[1]().catch(()=>{}));let w=null;const T=_.url?n!==_.url.pathname+_.url.search:!1,N=_.route?f.id!==_.route.id:!1,g=vt(_.url,r);let S=!1;const j=E.map(($,A)=>{const C=_.branch[A],U=!!$?.[0]&&(C?.loader!==$[1]||Ze(S,N,T,g,C.server?.uses,s));return U&&(S=!0),U});if(j.some(Boolean)){try{w=await ct(r,j)}catch($){return fe({status:he($),error:await te($,{url:r,params:s,route:{id:f.id}}),url:r,route:f})}if(w.type==="redirect")return w}const x=w?.nodes;let M=!1;const K=E.map(async($,A)=>{if(!$)return;const C=_.branch[A],U=x?.[A];if((!U||U.type==="skip")&&$[1]===C?.loader&&!Ze(M,N,T,g,C.universal?.uses,s))return C;if(M=!0,U?.type==="error")throw U;return ye({loader:$[1],url:r,params:s,route:f,parent:async()=>{const Ee={};for(let Se=0;Se<A;Se+=1)Object.assign(Ee,(await K[Se])?.data);return Ee},server_data_node:we(U===void 0&&$[0]?{type:"skip"}:U??null,$[0]?C?.server:void 0)})});for(const $ of K)$.catch(()=>{});const z=[];for(let $=0;$<E.length;$+=1)if(E[$])try{z.push(await K[$])}catch(A){if(A instanceof at)return{type:"redirect",location:A.location};let C=he(A),U;if(x?.includes(A))C=A.status??C,U=A.error;else if(A instanceof _e)U=A.body;else{if(await G.updated.check())return await Y(r);U=await te(A,{params:s,url:r,route:{id:f.id}})}const de=await Qe($,z,u);return de?await Q({url:r,params:s,branch:z.slice(0,de.idx).concat(de.node),status:C,error:U,route:f}):await tt(r,{id:f.id},U,C)}else z.push(void 0);return await Q({url:r,params:s,branch:z,status:200,error:null,route:f,form:t?void 0:null})}async function Qe(n,t,r){for(;n--;)if(r[n]){let s=n;for(;!t[s];)s-=1;try{return{idx:s+1,node:{node:await r[n](),loader:r[n],data:{},server:null,universal:null}}}catch{continue}}}async function fe({status:n,error:t,url:r,route:s}){const f={};let u=null;if(e.server_loads[0]===0)try{const w=await ct(r,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;u=w.nodes[0]??null}catch{(r.origin!==xe||r.pathname!==location.pathname||v)&&await Y(r)}const m=await ye({loader:i,url:r,params:f,route:s,parent:()=>Promise.resolve({}),server_data_node:we(u)}),E={node:await l(),loader:l,universal:null,server:null,data:null};return await Q({url:r,params:f,branch:[m,E],status:n,error:t,route:null})}function ee(n,t){if(Ae(n,H))return;const r=be(n.pathname);for(const s of o){const f=s.exec(r);if(f)return{id:n.pathname+n.search,invalidating:t,route:s,params:jt(f),url:n}}}function be(n){return Rt(n.slice(H.length)||"/")}function et({url:n,type:t,intent:r,delta:s}){let f=!1;const u=lt(_,r,n,t);s!==void 0&&(u.navigation.delta=s);const p={...u.navigation,cancel:()=>{f=!0,u.reject(new Error("navigation was cancelled"))}};return k||c.before_navigate.forEach(m=>m(p)),f?null:u}async function ue({type:n,url:t,popped:r,keepfocus:s,noscroll:f,replace_state:u,state:p={},redirect_count:m=0,nav_token:E={},accept:w=it,block:T=it}){const N=ee(t,!1),g=et({url:t,type:n,delta:r?.delta,intent:N});if(!g){T();return}const S=L,j=F;w(),k=!0,I&&G.navigating.set(g.navigation),W=E;let x=N&&await ve(N);if(!x){if(Ae(t,H))return await Y(t);x=await tt(t,{id:null},await te(new qe(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=N?.url||t,W!==E)return g.reject(new Error("navigation was aborted")),!1;if(x.type==="redirect")if(m>=20)x=await fe({status:500,error:await te(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return ce(new URL(x.location,t).href,{},m+1,E),!1;else x.props.page.status>=400&&await G.updated.check()&&await Y(t);if(y.length=0,ie=!1,O=!0,Ue(S),Be(j),x.props.page.url.pathname!==t.pathname&&(t.pathname=x.props.page.url.pathname),p=r?r.state:p,!r){const $=u?0:1,A={[V]:L+=$,[B]:F+=$};(u?ae:He).call(history,A,"",t),u||st(L,F)}if(re[L]=p,b=null,x.props.page.state=p,I){_=x.state,x.props.page&&(x.props.page.url=t);const $=(await Promise.all(c.on_navigate.map(A=>A(g.navigation)))).filter(A=>typeof A=="function");if($.length>0){let A=function(){c.after_navigate=c.after_navigate.filter(C=>!$.includes(C))};$.push(A),c.after_navigate.push(...$)}q.$set(x.props),Z=!0}else Xe(x);const{activeElement:M}=document;await ke();const K=r?r.scroll:f?Fe():null;if(P){const $=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));K?scrollTo(K.x,K.y):$?$.scrollIntoView():scrollTo(0,0)}const z=document.activeElement!==M&&document.activeElement!==document.body;!s&&!z&&De(),P=!0,x.props.page&&(R=x.props.page),k=!1,n==="popstate"&&Je(F),g.fulfil(void 0),c.after_navigate.forEach($=>$(g.navigation)),G.navigating.set(null),O=!1}async function tt(n,t,r,s){if(n.origin===xe&&n.pathname===location.pathname&&!v)return await fe({status:s,error:r,url:n,route:t});if(s!==404){console.error("An error occurred while loading the page. This will cause a full page reload. (This message will only appear during development.)");debugger}return await Y(n)}function bt(){let n;d.addEventListener("mousemove",u=>{const p=u.target;clearTimeout(n),n=setTimeout(()=>{s(p,2)},20)});function t(u){s(u.composedPath()[0],1)}d.addEventListener("mousedown",t),d.addEventListener("touchstart",t,{passive:!0});const r=new IntersectionObserver(u=>{for(const p of u)p.isIntersecting&&(le(p.target.href),r.unobserve(p.target))},{threshold:0});function s(u,p){const m=nt(u,d);if(!m)return;const{url:E,external:w,download:T}=Oe(m,H);if(w||T)return;const N=pe(m);if(!N.reload)if(p<=N.preload_data){const g=ee(E,!1);g&&Ye(g).then(S=>{S.type==="loaded"&&S.state.error&&console.warn(`Preloading data for ${g.url.pathname} failed with the following error: ${S.state.error.message}
If this error is transient, you can ignore it. Otherwise, consider disabling preloading for this route. This route was preloaded due to a data-sveltekit-preload-data attribute. See https://kit.svelte.dev/docs/link-options for more info`)})}else p<=N.preload_code&&le(E.pathname)}function f(){r.disconnect();for(const u of d.querySelectorAll("a")){const{url:p,external:m,download:E}=Oe(u,H);if(m||E)continue;const w=pe(u);w.reload||(w.preload_code===rt.viewport&&r.observe(u),w.preload_code===rt.eager&&le(p.pathname))}}c.after_navigate.push(f),f()}function te(n,t){if(n instanceof _e)return n.body;console.warn("The next HMR update will cause the page to reload");const r=he(n),s=ln(n);return e.hooks.handleError({error:n,event:t,status:r,message:s})??{message:s}}return{after_navigate:n=>{$e(()=>(c.after_navigate.push(n),()=>{const t=c.after_navigate.indexOf(n);c.after_navigate.splice(t,1)}))},before_navigate:n=>{$e(()=>(c.before_navigate.push(n),()=>{const t=c.before_navigate.indexOf(n);c.before_navigate.splice(t,1)}))},on_navigate:n=>{$e(()=>(c.on_navigate.push(n),()=>{const t=c.on_navigate.indexOf(n);c.on_navigate.splice(t,1)}))},disable_scroll_handling:()=>{if(I&&!O)throw new Error("Can only disable scroll handling during navigation");(O||!I)&&(P=!1)},goto:(n,t={})=>(n=ne(n),n.origin!==xe?Promise.reject(new Error(`Cannot use \`goto\` with an external URL. Use \`window.location = "${n}"\` instead`)):ce(n,t,0)),invalidate:n=>{if(typeof n=="function")y.push(n);else{const{href:t}=new URL(n,location.href);y.push(r=>r.href===t)}return ze()},invalidate_all:()=>(ie=!0,ze()),preload_data:async n=>{const t=ne(n),r=ee(t,!1);if(!r)throw new Error(`Attempted to preload a URL that does not belong to this app: ${t}`);const s=await Ye(r);if(s.type==="redirect")return{type:s.type,location:s.location};const{status:f,data:u}=s.props.page??R;return{type:s.type,status:f,data:u}},preload_code:n=>{{if(!n.startsWith(H))throw new Error(`pathnames passed to preloadCode must start with \`paths.base\` (i.e. "${H}${n}" rather than "${n}")`);if(!o.find(t=>t.exec(be(n))))throw new Error(`'${n}' did not match any routes`)}return le(n)},push_state:(n,t)=>{try{Te(t)}catch(s){throw new Error(`Could not serialize state${s.path}`)}const r={[V]:L+=1,[B]:F,[Pe]:R.url.href};He.call(history,r,"",ne(n)),R={...R,state:t},q.$set({page:R}),re[L]=t,st(L,F)},replace_state:(n,t)=>{try{Te(t)}catch(s){throw new Error(`Could not serialize state${s.path}`)}const r={[V]:L,[B]:F,[Pe]:R.url.href};ae.call(history,r,"",ne(n)),R={...R,state:t},q.$set({page:R}),re[L]=t},apply_action:async n=>{if(n.type==="error"){const t=new URL(location.href),{branch:r,route:s}=_;if(!s)return;const f=await Qe(_.branch.length,r,s.errors);if(f){const u=await Q({url:t,params:_.params,branch:r.slice(0,f.idx).concat(f.node),status:n.status??500,error:n.error,route:s});_=u.state,q.$set(u.props),ke().then(De)}}else n.type==="redirect"?ce(n.location,{invalidateAll:!0},0):(q.$set({form:null,page:{...R,form:n.data,status:n.status}}),await ke(),q.$set({form:n.data}),n.type==="success"&&De())},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let r=!1;if(We(),!k){const s=lt(_,void 0,null,"leave"),f={...s.navigation,cancel:()=>{r=!0,s.reject(new Error("navigation was cancelled"))}};c.before_navigate.forEach(u=>u(f))}r?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&We()}),navigator.connection?.saveData||bt(),d.addEventListener("click",t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const r=nt(t.composedPath()[0],d);if(!r)return;const{url:s,external:f,target:u,download:p}=Oe(r,H);if(!s)return;if(u==="_parent"||u==="_top"){if(window.parent!==window)return}else if(u&&u!=="_self")return;const m=pe(r);if(!(r instanceof SVGAElement)&&s.protocol!==location.protocol&&!(s.protocol==="https:"||s.protocol==="http:")||p)return;if(f||m.reload){et({url:s,type:"link"})?k=!0:t.preventDefault();return}const[w,T]=s.href.split("#");if(T!==void 0&&w===Re(location)){if(_.url.hash===s.hash){t.preventDefault(),r.ownerDocument.getElementById(T)?.scrollIntoView();return}if(D=!0,Ue(L),n(s),!m.replace_state)return;D=!1}t.preventDefault(),ue({type:"link",url:s,keepfocus:m.keepfocus,noscroll:m.noscroll,replace_state:m.replace_state??s.href===location.href})}),d.addEventListener("submit",t=>{if(t.defaultPrevented)return;const r=HTMLFormElement.prototype.cloneNode.call(t.target),s=t.submitter;if((s?.formMethod||r.method)!=="get")return;const u=new URL(s?.hasAttribute("formaction")&&s?.formAction||r.action);if(Ae(u,H))return;const p=t.target,m=pe(p);if(m.reload)return;t.preventDefault(),t.stopPropagation();const E=new FormData(p),w=s?.getAttribute("name");w&&E.append(w,s?.getAttribute("value")??""),u.search=new URLSearchParams(E).toString(),ue({type:"form",url:u,keepfocus:m.keepfocus,noscroll:m.noscroll,replace_state:m.replace_state??u.href===location.href})}),addEventListener("popstate",async t=>{if(t.state?.[V]){const r=t.state[V];if(W={},r===L)return;const s=J[r],f=re[r]??{},u=new URL(t.state[Pe]??location.href),p=t.state[B],m=Re(location)===Re(_.url);if(p===F&&(Z||m)){n(u),J[L]=Fe(),s&&scrollTo(s.x,s.y),f!==R.state&&(R={...R,state:f},q.$set({page:R})),L=r;return}const w=r-L;await ue({type:"popstate",url:u,popped:{state:f,scroll:s,delta:w},accept:()=>{L=r,F=p},block:()=>{history.go(-w)},nav_token:W})}else if(!D){const r=new URL(location.href);n(r)}}),addEventListener("hashchange",()=>{D&&(D=!1,ae.call(history,{...history.state,[V]:++L,[B]:F},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&G.navigating.set(null)});function n(t){_.url=t,G.page.set({...R,url:t}),G.page.notify()}},_hydrate:async({status:n=200,error:t,node_ids:r,params:s,route:f,data:u,form:p})=>{v=!0;const m=new URL(location.href);({params:s={},route:f={id:null}}=ee(m,!1)||{});let E;try{const w=r.map(async(g,S)=>{const j=u[S];return j?.uses&&(j.uses=wt(j.uses)),ye({loader:e.nodes[g],url:m,params:s,route:f,parent:async()=>{const x={};for(let M=0;M<S;M+=1)Object.assign(x,(await w[M]).data);return x},server_data_node:we(j)})}),T=await Promise.all(w),N=o.find(({id:g})=>g===f.id);if(N){const g=N.layouts;for(let S=0;S<g.length;S++)g[S]||T.splice(S,0,void 0)}E=await Q({url:m,params:s,branch:T,status:n,error:t,form:p,route:N??null})}catch(w){if(w instanceof at){await Y(new URL(w.location,location.href));return}E=await fe({status:he(w),error:await te(w,{url:m,params:s,route:f}),url:m,route:f})}E.props.page&&(E.props.page.state={}),Xe(E)}}}async function ct(e,a){const o=new URL(e);if(o.pathname=Ut(e.pathname),e.pathname.endsWith("/")&&o.searchParams.append(cn,"1"),e.searchParams.has(Ce))throw new Error(`Cannot used reserved query parameter "${Ce}"`);o.searchParams.append(Ce,a.map(l=>l?"1":"0").join(""));const i=await _t(o.href);if(!i.ok){let l;throw i.headers.get("content-type")?.includes("application/json")?l=await i.json():i.status===404?l="Not Found":i.status===500&&(l="Internal Error"),new _e(i.status,l)}return new Promise(async l=>{const d=new Map,y=i.body.getReader(),h=new TextDecoder;function b(_){return Ot(_,{Promise:v=>new Promise((I,P)=>{d.set(v,{fulfil:I,reject:P})})})}let c="";for(;;){const{done:_,value:v}=await y.read();if(_&&!c)break;for(c+=!v&&c?`
`:h.decode(v);;){const I=c.indexOf(`
`);if(I===-1)break;const P=JSON.parse(c.slice(0,I));if(c=c.slice(I+1),P.type==="redirect")return l(P);if(P.type==="data")P.nodes?.forEach(O=>{O?.type==="data"&&(O.uses=wt(O.uses),O.data=b(O.data))}),l(P);else if(P.type==="chunk"){const{id:O,data:k,error:D}=P,Z=d.get(O);d.delete(O),D?Z.reject(b(D)):Z.fulfil(b(k))}}}})}function wt(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!e?.parent,route:!!e?.route,url:!!e?.url,search_params:new Set(e?.search_params??[])}}function De(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const a=document.body,o=a.getAttribute("tabindex");a.tabIndex=-1,a.focus({preventScroll:!0,focusVisible:!1}),o!==null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex");const i=getSelection();if(i&&i.type!=="None"){const l=[];for(let d=0;d<i.rangeCount;d+=1)l.push(i.getRangeAt(d));setTimeout(()=>{if(i.rangeCount===l.length){for(let d=0;d<i.rangeCount;d+=1){const y=l[d],h=i.getRangeAt(d);if(y.commonAncestorContainer!==h.commonAncestorContainer||y.startContainer!==h.startContainer||y.endContainer!==h.endContainer||y.startOffset!==h.startOffset||y.endOffset!==h.endOffset)return}i.removeAllRanges()}})}}}function lt(e,a,o,i){let l,d;const y=new Promise((b,c)=>{l=b,d=c});return y.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:e.route?.id??null},url:e.url},to:o&&{params:a?.params??null,route:{id:a?.route?.id??null},url:o},willUnload:!a,type:i,complete:y},fulfil:l,reject:d}}{const e=console.warn;console.warn=function(...o){o.length===1&&/<(Layout|Page|Error)(_[\w$]+)?> was created (with unknown|without expected) prop '(data|form)'/.test(o[0])||e(...o)}}async function _n(e,a,o){a===document.body&&console.warn(`Placing %sveltekit.body% directly inside <body> is not recommended, as your app may break for users who have certain browser extensions installed.

Consider wrapping it in an element:

<div style="display: contents">
  %sveltekit.body%
</div>`);const i=fn(e,a);Et({client:i}),o?await i._hydrate(o):i.goto(location.href,{replaceState:!0}),i._start_router()}export{_n as start};
